{{/* layouts/partials/header.html */}}
{{ $app := . }}
{{ $isHome := eq .Kind "home" }}

<header id="header" class="fixed w-full bg-white/80 backdrop-blur-sm shadow-md z-50 transition-all duration-300">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
        <div class="flex items-center">
            <div class="bg-primary w-10 h-10 rounded-lg flex items-center justify-center">
                {{ if $isHome }}
                    <span class="text-white font-bold text-xl"><i class="fas fa-layer-group"></i></span>
                {{ else if $app.Params.logo }}
                    <span class="text-white font-bold text-xl">{{ $app.Params.logo.initials }}</span>
                {{ end }}
            </div>
            {{ if $isHome }}
                <span class="ml-3 font-bold text-xl text-dark">App Suite</span>
            {{ else if $app.Params.logo }}
                <a href="/apps/{{ $app.Params.slug }}/"><span class="ml-3 font-bold text-xl text-dark">{{ $app.Params.logo.name }}</span></a>
            {{ end }}
        </div>
        
        {{ if and (not $isHome) $app.Params.nav }}
        <nav class="hidden md:flex space-x-8">
            {{ range $app.Params.nav.links }}
                <a href="{{ .url }}" class="nav-link-desktop font-medium text-gray-600 hover:text-primary">{{ .name }}</a>
            {{ end }}
        </nav>
        {{ end }}
        
        {{ if $isHome }}
            <a href="#apps" class="hidden md:inline-block bg-primary hover:bg-secondary text-white px-6 py-2 rounded-full font-medium transition-colors duration-300 shadow-md">View All Apps</a>
        {{ else if $app.Params.nav.button }}
            <a href="{{ $app.Params.nav.button.url }}" class="hidden md:inline-block bg-primary hover:bg-secondary text-white px-6 py-2 rounded-full font-medium transition-colors duration-300 shadow-md">{{ $app.Params.nav.button.text }}</a>
        {{ end }}
        
        <button id="mobile-menu-button" class="md:hidden text-gray-600 z-50 hamburger-icon">
             <div class="space-y-2">
                <span class="block w-6 h-0.5 bg-gray-600 line line1"></span>
                <span class="block w-6 h-0.5 bg-gray-600 line line2"></span>
                <span class="block w-6 h-0.5 bg-gray-600 line line3"></span>
            </div>
        </button>
    </div>
    
    {{ if and (not $isHome) $app.Params.nav }}
    <div id="mobile-menu" class="hidden fixed inset-0 bg-white/95 backdrop-blur-lg md:hidden">
        <div class="flex flex-col items-center justify-center h-full space-y-8">
            {{ range $app.Params.nav.links }}
                <a href="{{ .url }}" class="text-2xl font-medium text-gray-700 hover:text-primary">{{ .name }}</a>
            {{ end }}
            {{ with $app.Params.nav.button }}
            <a href="{{ .url }}" class="mt-6 bg-primary text-white px-8 py-3 rounded-full text-lg font-medium">Download Now</a>
            {{ end }}
        </div>
    </div>
    {{ end }}
</header>
