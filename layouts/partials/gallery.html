{{/* layouts/partials/gallery.html */}}
{{ with . }}
<section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
        {{ if .title }}
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">{{ .title }}</h2>
            {{ if .subtitle }}
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">{{ .subtitle }}</p>
            {{ end }}
        </div>
        {{ end }}
        
        <div class="w-full my-8">
            <div class="flex items-center gap-0">
                <div class="w-auto">
                    <div class="w-36 sm:w-48 md:w-64 lg:w-80">
                        <div class="aspect-[3/4] rounded-none overflow-hidden">
                            <img src="{{ .featured_image.src }}" alt="{{ .featured_image.alt }}" class="w-full h-full object-cover">
                        </div>
                    </div>
                </div>
                <div class="flex-1 min-w-0 relative">
                    <div class="space-y-2">
                        <div class="gallery-scroll-container relative w-full overflow-hidden cursor-grab select-none py-2" style="cursor: grab;">
                            <div class="gallery-scroll-content flex items-center w-max py-4 gap-6" style="width: fit-content;">
                                {{ range .images }}
                                <div class="gallery-image flex-shrink-0 w-36 sm:w-48 md:w-64 lg:w-80">
                                    <div class="aspect-[3/4] rounded-none overflow-hidden">
                                        <img src="{{ .src }}" alt="{{ .alt }}" class="w-full h-full object-cover">
                                    </div>
                                </div>
                                {{ end }}
                                {{/* Duplicate images for seamless loop */}}
                                {{ range .images }}
                                <div class="gallery-image flex-shrink-0 w-36 sm:w-48 md:w-64 lg:w-80">
                                    <div class="aspect-[3/4] rounded-none overflow-hidden">
                                        <img src="{{ .src }}" alt="{{ .alt }}" class="w-full h-full object-cover">
                                    </div>
                                </div>
                                {{ end }}
                            </div>
                        </div>
                    </div>
                    <div class="pointer-events-none absolute left-0 top-0 h-full w-8 bg-gradient-to-r from-gray-50 to-transparent"></div>
                </div>
            </div>
        </div>
    </div>
</section>
{{ end }}
